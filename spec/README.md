# Техническое задание на разработку сайта [oldboybarbershop.com](https://oldboybarbershop.com)

## Этапы разработки
Разработку сайта предлагается разделить на 2 этапа:
1. Разработка и внедрение основных разделов сайта: 
    1. Установка и настройка хостинга, CMS, Cloudflare
    2. Разработка структуры данных (Регионы, Города, Филиалы, Услуги, Акции, Мастера, Отзывы) под CMS
    3. Шаблонизация вёрстки под CMS
    4. Домены, мультиязычность, выбор города, структура ссылок
    5. Сборка, тестирование, запуск сайта

2. Разработка и внедрение дополнительных разделов сайта и функций:
    1. Разработка новостного блока сайта
    2. Интеграция с API yClients для получения списка услуг, отзывов, мастеров
    3. Разграничение доступа и управление контентом для менеджеров (своя админка)
    4. Оптимизация производительности фронт-энда

## Технические требования

### Внешний вид
К данному техническому заданию прилагаются макеты, которые можно найти по [ссылке](https://cloud.mail.ru/public/9nj5/XosrVKnTL).

Макеты каждой страницы находятся в отдельной директории (директории именованы английскими названиями соответствующих страниц). 

Макеты представлены для 4-х промежуточных состояний ширины страницы (breakpoints): **375px**, **768px**, **1200px** и **1920px**. В некоторых случаях добавлены дополнительные макеты.

### Поддержка браузеров
Сайт должен поддерживать следующие браузеры:
1. Google Chrome (ver. 44+)
2. Opera (ver. 31+)
3. Mozilla Firefox (ver. 40+)
4. Microsoft Edge (ver. 12+)
5. Microsoft Internet Explorer (ver. 11+)
6. Safari (ver. 8+)

### Роутинг
Функционал сайта должен реализовывать следущую систему адресов (URL):

1. Для каждого региона выделяется поддомен. Например для Беларуси by.oldboybarbershop.ru

2. Для основного региона (Россия) без поддомена. Сохраняем текущую каталожную структуру. Например: https://oldboybarbershop.com/moscow/zhulebino

3. Внутри региона каталожная структура по типу reg.oldboybarbershop.com/city/branch (Где reg — имя поддомена региона, city — название города, branch — название филиала)

### SEO
Административная панель сайта должна позволять изменять следующий контент страниц:

1. Изменение тегов/мета-тегов:
    * title
    * description
    * h1

2. Изменение текстовых блоков (об этом подробнее в рамках описания каждой отдельной страницы)

3. Изменение атрибутов не декоративных изображений:
    * alt
    * title

4. Изменение названий изображений

5. Изменение тега <link rel="robots" content="all">. Атрибут content при этом должен иметь значения на выбор:
    * all
    * noindex, follow
    * index, nofollow
    * none
    
6. Возможность добавить/изменить файлы:
    * robots.txt
    * sitemap.xml
    * htaccess

7. Добавление стороннего кода (кода счетчиков):
    * Яндекс.Метрика
    * Google Analytics
    * Google Tag Manager

## Структура сайта
![Структура сайта](/spec/img/structure.png)

Схема для редактирования в прижожении [draw.io](https://www.draw.io/) — [scheme.xml](/spec/scheme.xml)

## Описание страниц сайта.
1. [Главная страница (main)](#main)
2. [Страница города (city)](#city)
3. [Страница филиала (branch)](#branch)
4. [Заглушка филиала (branch_dummy)](#branch_dummy)
5. [Страница франшизы(franchise)](#franchise)
6. [Страница "Семья"](#family)
7. [Остальные страницы](#other)

0. Обозначения.
В конце большинства описаний функционала сайта в круглых скобках указано краткое примечание, обозначающее особеность разработки.
Список примечаний:
(1) — функционал разрабатывается на первом этапе
(2) — функционал разрабатывается на втором этапе
(F) — данное требование относится в основном к Front-end функционалу сайта
(B) — данное требование относится в основном к Back-end функционалу сайта

Также в круглых скобках после названия страницы сайта указана директория с макетами для этой страницы.

<a name="main"></a>

### 1. Главная страница (main).
Это основная страница сайта. Назначение страницы презентационное. На этой странице мы представляем пользователю основные направления деятельности сети; новостную ленту; размер сети и список знаменитостей, пользующихся услугами барбершопов Oldboy.

#### 1.1.Шапка (1).
1. Главное меню: главная (текущая, не ссылка), новости(2), услуги(ссылка на якорь), франшиза (ссылка на страницу франшизы[franchise])
2. Выбор региона (описан в отдельном разделе)
3. Количество барбершопов сети. Необходимо предусмотреть возможность изменения числа (необходимо предусмотреть выбор: считать автоматически или прописывать число вручную) (B)
4. Блок "Франшиза" — ссылка на страницу описания франшизы (franchise)
5. Кнопка онлайн записи. Открывает виджет yClients с выбором абсолютно всех филиалов сети. Необходимо предусмотерть изменение кода кнопки (B)
6. Кнопка "О Барбершопе". (Якорь на соответствующий раздел страницы, возможно в дальнейшем ссылка на отдельную страницу).

#### 1.2. Раздел новостей (2).
Агрегатор всех новостей сети. Этот раздел будет реализовываться на 2-м этапе разработки.
1. Главная новость, передовица. Необходимо предусмотреть возможность закрепления избранной новости как главной.
2. Лента новостей. Сюда подгружаются все новости сети

#### 1.3. Услуги барбершопа (1).
Статический раздел со ссылками на соответствующие статические страницы: 
1. Мужские стрижки (ссылка на страницу service_haircut)
2. Стрижка усов и бороды (контент не готов)
3. Бритьё бороды и готовы (контент не готов)
4. Нанесение татуировок (ссылка на страницу service_tattoo)
5. Королевское бритьё (ссылка на страницу service_royal)
6. Барбер-спа услуги (ссылка на страницу скоро открытие)

#### 1.4. О барбершопе (1).
Секция и информацией о барбершопе и ссылкой на страницу с более подробной информацией. Необходимо предусмотреть возможность редактировать информацию (всю секцию целиком)

#### 1.5. Баннер "Академия Олдбой" (1).
Необходимо предусмотреть возможность редактировать контент секции (все целиком)

#### 1.6. Карта филиалов (1).
Секция со ссылкой на страницу франчайзинга (franchise). Необходимо предусмотреть возможность изменять изображение (карту) и количество филиалов.

#### 1.7. VIP-посетители (1).
Полностью динамический раздел сайта. Сюда подгружается список звёзд посещавших барбершопы сети. Каждый элемент списка состоит из 5-ти частей: фото (квадратное), ссылка на знаменитость в соцсетях(?), род деятельности, имя(группа), фамилия(для группы имя и фамилия или прозвище)

#### 1.8. Футер (1)
Типовой футер. (см. Макет)


<a name="city"></a>

### 2. Cтраница города (city).

#### 2.1.Шапка (1).
1. Главное меню: главная, новости(2), услуги(ссылка на якорь на главной странице), франшиза (ссылка на страницу франшизы[franchise]).
2. Выбор региона (описан в отдельном разделе).
3. Заголовок, включает в себя название города.
4. Список барбершопов города. Ссылки на соответствующие страницы филиалов.
5. Кнопка онлайн записи. Открывает виджет yClients с выбором филиалов в данном городе. Необходимо предусмотерть изменение кода кнопки (B).
6. Кнопка "сертификат" открывает виджет приобритения сертификата. Необходимо предусмотреть изменение кода кнопки и возможности скрывать эту кнопку.

#### 2.2. Раздел новостей (2).
Агрегатор всех городских. Этот раздел будет реализовываться на 2-м этапе разработки. Необходимо предусмотреть возможность отключение этой секции.
1. Главная новость, передовица. Необходимо предусмотреть возможность закрепления избранной новости как главной.
2. Лента новостей. Сюда подгружаются все городские новости

#### 2.3. Акции в городе (1).
Агрегатор общегородских акций.

Каждая акция состоит из следующих частей:
1. Фоновое изображение.
2. Категория акции (комплексная услуга, акционное предложение и т. п.)
3. Стоимость услуги или размер скидки
4. Название акции.
5. Описание акции.

#### 2.4. Основные услуги (1).
Редактируемый раздел со списком услуг их ценами (прайс-лист)

#### 2.5. Баннер "Академия Олдбой" (1).
Необходимо предусмотреть возможность редактировать контент секции (все целиком)

#### 2.6. Футер (1)
Типовой футер. (см. Макет)


<a name="branch"></a>

### 3. Cтраница филиала (branch).

#### 3.1.Шапка (1).
1. Главное меню: главная, новости(2), услуги(ссылка на якорь на главной странице), франшиза (ссылка на страницу франшизы[franchise]).
2. Выбор региона (описан в отдельном разделе).
3. Заголовок, включает в себя название города и адрес филиала.
4. Блок мобильного приложения с сылками на Google Play и App Store. Необходимо предусмотреть возможность изменения ссылок. Изначально по умолчанию уже должно стоять базовое значение (есть общее приложение для сети и для некоторых филиалов отдельное, чтобы каждый раз не вводить).
5. Кнопка онлайн записи. Открывает виджет yClients с выбором услуг конкретного филиала. Необходимо предусмотерть изменение кода кнопки (B).
6. Кнопка "сертификат" открывает виджет приобритения сертификата. Необходимо предусмотреть изменение кода кнопки и возможности скрывать эту кнопку.
7. Контактные данные филиала: адрес, телефон, часы-работы. Предусмотреть изменение.
8. Данные социальных сетей филиала. Необходимо предусмотреть изменение ссылок и отключение при отсутствии таковых.

#### 3.2. Акции барбершопа (1).
Агрегатор акций барбершопа.

Каждая акция состоит из следующих частей:
1. Фоновое изображение.
2. Категория акции (комплексная услуга, акционное предложение и т. п.)
3. Стоимость услуги или размер скидки
4. Название акции.
5. Описание акции.

#### 3.3. Прайс-лист на услуги(1-2).
Редактируемый раздел со списком услуг их ценами (прайс-лист). 

На втором этапе разработки необходимо реализовать интеграцию с API yClients.

#### 3.4. Мастера барбершопа (1-2).
Агрегатор мастеров барбершопа.
Также в конце содержит изменяемый по ширине в соответствии кратности количества мастеров баннер.
Карточка мастера состоит из следующих частей: фото мастера, имя мастера, должность, ссылка на запись к конкретному мастеру. Необходимо предусмотреть автоматическое отключение ссылки записи при отсутствии таковой.

На втором этапе разработки необходимо реализовать интеграцию с API yClients.

#### 3.5. Баннер "Академия Олдбой" (1).
Необходимо предусмотреть возможность редактировать контент секции (все целиком). Возможность отключение этой секции целиком.

#### 3.6. Отзывы посетителей (2).
Агрегатор отзывов посетителей барбершопа. Внедряется на втором этапе разработки с интеграцией с API yClients.

#### 3.7. Футер (1).
Типовой футер страницы филиала (см. Макет), аналогичен типовому футеру с добавлением контактных данных филиала: адрес, телефон, часы работы, название города и ссылки на соцсети.

<a name="branch_dummy"></a>

### 4. Заглушка филиала (branch_dummy).

Заглушку филиала предполагается устанавливать на приобретённые, но еще не функционирующие филиалы франшизы.

#### 4.1.Шапка (1).
1. Главное меню: главная, новости(2), услуги(ссылка на якорь на главной странице), франшиза (ссылка на страницу франшизы[franchise]).
2. Выбор региона (описан в отдельном разделе).
3. Заголовок, включает в себя название города и адрес филиала.
4. Контактные данные филиала: адрес, телефон, часы-работы. Предусмотреть изменение.
5. Данные социальных сетей филиала. Необходимо предусмотреть изменение ссылок и отключение при отсутствии таковых.
6. Дата открытия.
7. Счётчик обратного отсчета. Необходимо предусмотреть возможность установки точной (со временем) даты открытия, отностительно которой будет работать счётчик обратного отсчёта.
8. Принятие заявок на работу барбером.

#### 4.2. Футер (1).
Типовой футер.